@page "/register"

@using System.ComponentModel.DataAnnotations

<h2>Register for an Event</h2>

@if (success)
{
    <div class="alert alert-success">Registration successful!</div>
}
else
{
    <EditForm Model="@registration" OnValidSubmit="HandleSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div>
            <label>Name:</label>
            <InputText @bind-Value="registration.Name" class="form-control" />
            <ValidationMessage For="@(() => registration.Name)" />
        </div>
        <div>
            <label>Email:</label>
            <InputText @bind-Value="registration.Email" class="form-control" />
            <ValidationMessage For="@(() => registration.Email)" />
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </EditForm>
}

@code {
    private Registration registration = new();
    private bool success = false;

    private void HandleSubmit()
    {
        // Simulate registration logic
        success = true;
        registration = new(); // Reset form
    }

    public class Registration
    {
        [Required(ErrorMessage = "Name is required")]
        public string Name { get; set; } = string.Empty;

        [Required(ErrorMessage = "Email is required")]
        [EmailAddress(ErrorMessage = "Invalid email address")]
        public string Email { get; set; } = string.Empty;
        }
    }